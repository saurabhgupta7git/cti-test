<!DOCTYPE html>
<html>
<head>
  <title>Fake CTI</title>
</head>
<body>
  <h2>Simulate CTI Call</h2>
  <button onclick="sendFakeCall()">Send CALL_INITIATED</button>

  <script>
    function sendFakeCall() {
      const message = {
        source: 'FakeCTI',
        type: 'CALL_INITIATED',
        payload: {
          caseSubject: 'Test Support Call',
          contactEmail: 'test@cti.com',
          vehicleModel: 'Tesla Model 3'
        }
      };
      const cleanMessage = JSON.stringify(message);
      window.parent.postMessage(cleanMessage, '*');
      alert('Event sent to Salesforce LWC');
    }
  </script>
</body>
</html>
